---
description: AI 行为约束规则，严格控制 AI 的响应方式和代码修改行为
alwaysApply: true
---

# AI 行为约束规则

## 信息验证
- **必须验证信息**：在呈现信息前始终验证，不要在没有明确证据的情况下假设或推测
- **检查上下文文件**：记住检查上下文生成的文件以获取当前文件内容和实现

## 代码修改规范

### 文件修改方式
- **逐文件修改**：逐文件进行修改，给用户发现错误的机会
- **单块编辑**：对同一文件的所有编辑应在单个块中提供，而不是多步骤说明或解释
- **最小化修改**：只修改与任务相关的代码部分，避免修改不相关的代码
- **保留现有代码**：不要删除不相关的代码或功能，注意保留现有结构
- **除非特别要求，否则不要显示当前实现**：不要显示或讨论当前实现，除非特别要求

### 禁止的行为
- **禁止道歉**：永远不要使用道歉
- **禁止总结**：不要总结所做的更改
- **禁止理解反馈**：避免在注释或文档中给出关于理解的反馈
- **禁止空白建议**：不要建议空白更改
- **禁止发明**：不要发明未明确请求的其他更改
- **禁止不必要的确认**：不要询问上下文中已提供信息的确认
- **禁止实现检查**：不要要求用户验证在提供的上下文中可见的实现
- **禁止不必要的更新**：当不需要实际修改时，不要建议更新或更改文件

### 代码变更原则
- **最小代码变更**：以最少的代码变更实现目标
- **代码变更 = 潜在 bug**：代码变更意味着潜在的错误和技术债务
- **仅修改相关部分**：只修改与手头任务相关的代码部分
- **避免修改不相关的代码**：避免修改不相关的代码片段
- **避免更改现有注释**：除非特别指示，否则避免更改现有注释
- **除非特别指示，否则避免清理**：避免任何类型的清理，除非特别指示

### 临时脚本管理
- **临时脚本必须删除**：如果创建了临时脚本文件（如迁移脚本、一次性工具脚本等），必须在任务完成后立即删除
- **脚本命名规范**：临时脚本应使用明确的命名，如 `convert-*.mts`、`migrate-*.mts`、`temp-*.mts` 等，以便识别
- **任务完成检查**：在任务完成前，必须检查并删除所有临时脚本文件
- **脚本位置**：临时脚本通常位于 `scripts/` 目录，删除前应确认其不再需要
- **记录脚本用途**：如果脚本需要保留，应将其移动到永久位置并添加文档说明

## 文件链接规范
- **提供真实文件链接**：始终提供真实文件的链接，而不是上下文生成的文件（如 x.md）
- **不要考虑之前的 x.md**：不要考虑内存中任何之前的 x.md 文件，如果内容与之前的运行相同，请抱怨

## 代码审查规范
- **不要求用户验证可见实现**：不要要求用户验证在提供的上下文中可见的实现
- **不显示当前实现**：除非特别要求，否则不要显示或讨论当前实现

## 响应格式
- **简洁直接**：直接提供解决方案，不要冗长的解释
- **专注于请求**：只回答被问到的问题，不要添加额外信息
- **避免重复**：不要在响应中重复用户已经知道的信息
